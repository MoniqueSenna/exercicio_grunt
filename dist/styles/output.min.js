let lista=localStorage.getItem("minhaLista");const formulario=document.querySelector("form"),ulPessoas=document.querySelector("ul");function listar(l=""){ulPessoas.innerHTML="",lista.forEach((e,t)=>{(0<=e.nome.toUpperCase().indexOf(l.toUpperCase())||""==l)&&((linha=document.createElement("li")).innerHTML="Nome: "+e.nome+" Telefone: "+e.telefone+`<button onClick="excluir(${t})">[Excluir]</button>
                    <button onClick="editar(${t})">[Editar]</button>`,ulPessoas.appendChild(linha))})}function excluir(e){formulario.reset(),lista.splice(e,1),salvarLS(),listar()}function editar(e){formulario.id.value=e,formulario.nome.value=lista[e].nome,formulario.telefone.value=lista[e].telefone}function salvarLS(){localStorage.setItem("minhaLista",JSON.stringify(lista))}lista=lista?JSON.parse(lista):[],listar(),formulario.addEventListener("submit",function(e){e.preventDefault();e=new Object;e.nome=this.nome.value,e.telefone=this.telefone.value,""!==this.id.value&&0<=this.id.value?lista[this.id.value]=e:lista.push(e),this.reset(),this.id.value=null,salvarLS(),listar()});